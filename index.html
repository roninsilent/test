<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web con Login y Firebase</title>
</head>
<body>
    <h1>Bienvenido a nuestra web</h1>

    <!-- Formulario de inicio de sesión -->
    <h2>Iniciar sesión</h2>
    <form id="login-form">
        <label for="email">Correo electrónico:</label>
        <input type="email" id="email" name="email" required>

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required>

        <button type="submit">Iniciar sesión</button>
    </form>

    <!-- Elemento para mostrar mensajes -->
    <div id="message"></div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.1/firebase-auth.js"></script>
    <script>
        // Configura tu proyecto de Firebase con tu propia configuración
        const firebaseConfig = {
          apiKey: "AIzaSyCkt4X2z93XeQB5_Yr2ZEPDx0ej4WnpHbc",
          authDomain: "remunerats.firebaseapp.com",
          projectId: "remunerats",
          storageBucket: "remunerats.appspot.com",
          messagingSenderId: "210093843883",
          appId: "1:210093843883:web:ce937c75f066831c065eee",
          measurementId: "G-RQYRN6G16K"
        };

        // Inicializa Firebase
        firebase.initializeApp(firebaseConfig);

        // Obtén referencias a los formularios y el elemento de mensaje
        const loginForm = document.getElementById('login-form');
        const messageDiv = document.getElementById('message');

        // Estilos en línea (inline) en JavaScript
        const styles = {
            message: {
                marginTop: '10px',
                padding: '10px',
                border: '1px solid #ccc',
                backgroundColor: '#f9f9f9',
                color: '#333',
                display: 'none',
            },
            success: {
                color: 'green',
            },
            error: {
                color: 'red',
            },
        };

        // Asignar los estilos a los elementos
        Object.assign(messageDiv.style, styles.message);

        // Evento para el formulario de inicio de sesión
        loginForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const email = loginForm.email.value;
            const password = loginForm.password.value;

            // Iniciar sesión con Firebase Authentication
            firebase.auth().signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Aquí puedes redirigir al usuario a una página de bienvenida o su panel de control
                    showMessage('Inicio de sesión exitoso', 'success');
                })
                .catch((error) => {
                    showMessage('Error de inicio de sesión: ' + error.message, 'error');
                });
        });

        // Función para mostrar mensajes
        function showMessage(message, type) {
            messageDiv.style.display = 'block';
            messageDiv.textContent = message;
            messageDiv.style.color = styles[type].color;
        }
    </script>
</body>
</html>

